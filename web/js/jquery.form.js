!function(t,i,e){function a(t){this.settings=t,this.init()}a.prototype={init:function(){this.initForm(),this.initAjax()},initForm:function(){var i=this;t("form").each(function(e){"undefined"!=typeof t(this).attr("data-required")&&1!=t(this).attr("data-required")||0!=t(this).find(".form-required").length||t(this).append("<div class='form-required'>"+i.settings.required+"</div>")}),i.settings.form.select.multi_click&&t("form select option").unbind("mousedown").mousedown(function(i){return i.preventDefault(),t(this).prop("selected",!t(this).prop("selected")),t(this).parent().change(),!1})},initAjax:function(){var i=this;t(i.settings.ajax.form).unbind("submit").submit(function(e){var a=t(this),n=a.find(":submit"),r="undefined"==typeof n.attr("data-load")?i.settings.ajax.load:n.attr("data-load"),o=a.attr(i.settings.ajax.content);n.attr("data-text",n.attr("value")).html(r).prop("disabled",!0),e.preventDefault(),t.ajax({type:"POST",url:a.attr("action"),data:a.serialize(),success:function(e){t(o).fadeToggle(400,"linear",function(){t(o).html(i.getHtml(e,o)).fadeToggle(400,"linear"),n.html(n.attr("data-text")).prop("disabled",!1),i.initAjax()})}})})},getHtml:function(i,e){var a=t(t.parseHTML(i));return a.filter(e).add(a.find(e)).html()}},t.fn.form=function(i){var e=t.extend({required:"",form:{tag:"data-required",select:{multi_click:!0}},ajax:{form:"form[data-type=ajax]",content:"data-content",load:'<i class="fa fa-circle-o-notch fa-spin"></i>'}},i);new a(e)}}(jQuery,window,window.document);