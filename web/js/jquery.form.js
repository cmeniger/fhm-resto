!function($,window,document){function Plugin(t){this.settings=t,this.init()}Plugin.prototype={init:function(){this.initForm(),this.initAjax()},initForm:function(){var t=this;$("form").each(function(e){"undefined"!=typeof $(this).attr("data-required")&&1!=$(this).attr("data-required")||0!=$(this).find(".form-required").length||$(this).append("<div class='form-required'>"+t.settings.required+"</div>")}),t.settings.form.select.multi_click&&$("form select option").unbind("mousedown").mousedown(function(t){return t.preventDefault(),$(this).prop("selected",!$(this).prop("selected")),$(this).parent().change(),!1})},initAjax:function(){var t=this;$(t.settings.ajax.form).unbind("submit").submit(function(e){var i=$(this),a=i.find(":submit"),n="undefined"==typeof a.attr("data-load")?t.settings.ajax.load:a.attr("data-load"),r=i.attr(t.settings.ajax.content);a.attr("data-text",a.attr("value")).html(n).prop("disabled",!0),e.preventDefault(),$.ajax({type:"POST",url:i.attr("action"),data:i.serialize(),success:function(e){$(r).fadeToggle(400,"linear",function(){$(r).html(t.getHtml(e,r)).fadeToggle(400,"linear"),a.html(a.attr("data-text")).prop("disabled",!1),t.refreshScript(e),t.initAjax()})}})})},refreshScript:function(data){var parent=this;$("<div>"+data+"</div>").find("script").each(function(){eval(this.innerHTML)}),$(".g-recaptcha").each(function(){"undefined"!=typeof grecaptcha&&grecaptcha.render(this,{sitekey:$(this).attr("data-sitekey")})})},getHtml:function(t,e){var i=$($.parseHTML(t));return i.filter(e).add(i.find(e)).html()}},$.fn.form=function(t){var e=$.extend({required:"",form:{tag:"data-required",select:{multi_click:!0}},ajax:{form:"form[data-type=ajax]",content:"data-content",load:'<i class="fa fa-circle-o-notch fa-spin"></i>'}},t);new Plugin(e)}}(jQuery,window,window.document);