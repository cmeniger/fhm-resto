!function($,window,document){function Plugin(t){this.settings=t,this.init()}Plugin.prototype={init:function(){this.initForm(),this.initAjax()},initForm:function(){var t=this;$("form").each(function(i){"undefined"!=typeof $(this).attr("data-required")&&1!=$(this).attr("data-required")||0!=$(this).find(".form-required").length||$(this).append("<div class='form-required'>"+t.settings.required+"</div>")}),t.settings.form.select.multi_click&&$("form select option").unbind("mousedown").mousedown(function(t){return t.preventDefault(),$(this).prop("selected",!$(this).prop("selected")),$(this).parent().change(),!1})},initAjax:function(){var t=this;$(t.settings.ajax.form).unbind("submit").submit(function(i){var e=$(this),n=e.find(":submit"),a="undefined"==typeof n.attr("data-load")?t.settings.ajax.load:n.attr("data-load"),r=e.attr(t.settings.ajax.content);n.attr("data-text",n.attr("value")).html(a).prop("disabled",!0),i.preventDefault(),$.ajax({type:"POST",url:e.attr("action"),data:e.serialize(),success:function(i){$(r).fadeToggle(400,"linear",function(){$(r).html(t.getHtml(i,r)).fadeToggle(400,"linear"),n.html(n.attr("data-text")).prop("disabled",!1),t.refreshScript(i),t.initAjax()})}})})},refreshScript:function(data){var parent=this;$("<div>"+data+"</div>").find("script").each(function(){eval(this.innerHTML)}),"undefined"!=typeof grecaptcha&&grecaptcha.reset()},getHtml:function(t,i){var e=$($.parseHTML(t));return e.filter(i).add(e.find(i)).html()}},$.fn.form=function(t){var i=$.extend({required:"",form:{tag:"data-required",select:{multi_click:!0}},ajax:{form:"form[data-type=ajax]",content:"data-content",load:'<i class="fa fa-circle-o-notch fa-spin"></i>'}},t);new Plugin(i)}}(jQuery,window,window.document);