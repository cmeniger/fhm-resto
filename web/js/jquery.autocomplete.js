!function(t,i,n){function a(t){this.settings=t,this.init()}a.prototype={init:function(){this.initInput(),this.initButton(),this.initList(),this.initForm()},initInput:function(){var i=this;t(i.settings.input.container).keyup(function(n){var a=this,e=t(a).val();t("#"+t(a).attr("data-field")).val(""),""!=e?(t("#"+t(a).attr("data-field")+i.settings.list.suffix).html(i.settings.list.content).fadeIn(400),t.ajax({type:"POST",url:t(a).attr("data-url"),data:{text:e,pagination:1,field:t(a).attr("data-field")},success:function(n){t("#"+t(a).attr("data-field")+i.settings.list.suffix).html(n),i.initElement(),i.initPagination()}})):t("#"+t(a).attr("data-field")+i.settings.list.suffix).html(i.settings.list.content).fadeOut(400),t(a).unbind("focusout").focusout(function(){""==t("#"+t(this).attr("data-field")).val()&&(t(this).val(""),t("#"+t(this).attr("data-field")+i.settings.list.suffix).fadeOut(400))})})},initButton:function(){var i=this;t(i.settings.button.container).click(function(n){n.preventDefault(),t("#"+t(this).attr("data-field")+i.settings.list.suffix).fadeToggle(400,"linear")})},initList:function(){var i=this;t(i.settings.list.container).each(function(n){t(this).html(i.settings.list.content)})},initElement:function(){var i=this;t(i.settings.element.container).click(function(n){n.preventDefault(),t("#"+t(this).attr("data-field")).val(t(this).attr("data-id")).trigger("change"),t("#"+t(this).attr("data-field")+i.settings.input.suffix).val(t(this).attr("data-name")).trigger("change"),t("#"+t(this).attr("data-field")+i.settings.list.suffix).fadeOut(400)})},initPagination:function(){var i=this;t(i.settings.pagination.container).click(function(n){n.preventDefault();var a=this;t(i.settings.pagination.loader).show(),t.ajax({type:"POST",url:t(a).attr("data-url"),data:{text:t(a).attr("data-text"),pagination:t(a).attr("data-pagination"),field:t(a).attr("data-field")},success:function(n){t("#"+t(a).attr("data-field")+i.settings.list.suffix).html(n).show(),i.initElement(),i.initPagination()}})})},initForm:function(){var i=this,n=!1;t("form").submit(function(a){if(t(i.settings.input.container).each(function(){"undefined"!=typeof t(this).attr("required")&&""==t("#"+t(this).attr("data-field")).val()&&(t(this).val(""),t("#"+t(this).attr("data-field")+i.settings.list.suffix).fadeOut(400),n=!0)}),n)return!1})}},t.fn.autocomplete=function(i){var n=t.extend({button:{container:".autocomplete a[data-autocomplete]",suffix:"-button"},input:{container:".autocomplete input[data-autocomplete]",suffix:"-input"},list:{container:".autocomplete .list",content:'<div class="refresh"><i class="fa fa-refresh fa-spin"></i></div>',suffix:"-list"},element:{container:".autocomplete a.element"},pagination:{container:".autocomplete .pagination a",loader:".pagination-loader"}},i);new a(n)}}(jQuery,window,window.document);