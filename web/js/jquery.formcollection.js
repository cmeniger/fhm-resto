!function(t,e,i){function n(t){this.settings=t,this.init()}n.prototype={init:function(){var e=this;this.master=t(this.settings.container),this.linkAdd=t('<a href="#" class="'+this.settings.add["class"]+'">'+this.settings.add.text+"</a>"),this.linkRemove=t('<a href="#" class="'+this.settings.remove["class"]+'">'+this.settings.remove.text+"</a>"),this.linkAdd.on("click",function(t){t.preventDefault(),e.addForm()}),this.master.after(this.linkAdd),this.master.find("li").each(function(){e.removeLink(this)})},addForm:function(){var e=this,i=this.master.attr("data-prototype"),n=t(i.replace(/__name__/g,this.master.children().length));e.master.append(t("<li></li>").append(n)),e.removeLink(n)},removeLink:function(t){var e=this,i=e.linkRemove.clone();i.on("click",function(i){i.preventDefault(),e.removeForm(t.parent())}),t.append(i)},removeForm:function(t){t.remove()}},t.fn.formcollection=function(e){var i=t.extend({container:"ul.form_collection",add:{"class":"button tiny form_collection_add",text:'<i class="fa fa-plus"></i>'},remove:{"class":"button tiny form_collection_remove",text:'<i class="fa fa-minus"></i>'}},e);new n(i)}}(jQuery,window,window.document);